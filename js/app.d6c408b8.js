(function(e){function t(t){for(var r,o,u=t[0],c=t[1],i=t[2],d=0,b=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&b.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);s&&s(t);while(b.length)b.shift()();return l.push.apply(l,i||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},l=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/vue-3-form-task/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var i=0;i<u.length;i++)t(u[i]);var s=c;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=function(e){return Object(r["w"])("data-v-2b2d9491"),e=e(),Object(r["u"])(),e},l={class:"form"},o=a((function(){return Object(r["i"])("h1",{class:"form__title"},"Регистрация",-1)})),u={class:"form__subtitle"},c={class:"form__steps"};function i(e,t,n,a,i,s){var d=Object(r["B"])("PersonalInfoForm"),b=Object(r["B"])("AddressInfoForm"),p=Object(r["B"])("PassportInfoForm");return Object(r["t"])(),Object(r["h"])(r["a"],null,[Object(r["j"])(r["c"],{name:"alert"},{default:Object(r["I"])((function(){return[Object(r["J"])(Object(r["i"])("div",{class:"alert",onClick:t[0]||(t[0]=function(e){return a.alert=!1})}," Аккаунт успешно создан ",512),[[r["G"],a.alert]])]})),_:1}),Object(r["i"])("div",l,[o,Object(r["i"])("p",u,Object(r["C"])(a.subtitleName),1),Object(r["i"])("div",c,Object(r["C"])(a.step)+" / 3",1),a.someState?(Object(r["t"])(),Object(r["f"])(r["b"],{key:0},[1===a.step?(Object(r["t"])(),Object(r["f"])(d,{key:0,onNext:a.nextStep},null,8,["onNext"])):Object(r["g"])("",!0)],1024)):Object(r["g"])("",!0),a.someState?(Object(r["t"])(),Object(r["f"])(r["b"],{key:1},[2===a.step?(Object(r["t"])(),Object(r["f"])(b,{key:0,onNext:a.nextStep,onBack:a.backStep},null,8,["onNext","onBack"])):Object(r["g"])("",!0)],1024)):Object(r["g"])("",!0),a.someState?(Object(r["t"])(),Object(r["f"])(r["b"],{key:2},[3===a.step?(Object(r["t"])(),Object(r["f"])(p,{key:0,info:a.info,onCreate:a.create,onBack:a.backStep},null,8,["info","onCreate","onBack"])):Object(r["g"])("",!0)],1024)):Object(r["g"])("",!0)])],64)}n("b0c0");var s=Object(r["i"])("div",{class:"telNum"},"+7",-1),d={class:"form__control"},b=Object(r["i"])("p",{class:"form__name"},"Не отправлять смс",-1);function p(e,t,n,a,l,o){var u=Object(r["B"])("app-input"),c=Object(r["B"])("InputRadio"),i=Object(r["B"])("MultiSelect"),p=Object(r["B"])("AppSelect");return Object(r["t"])(),Object(r["h"])(r["a"],null,[Object(r["j"])(u,{id:"name",name:"name",type:"text",label:"Имя",modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.name=t}),errors:a.v$.name.$errors,required:!0,classLabelBox:"label__box-small"},null,8,["modelValue","errors"]),Object(r["j"])(u,{id:"surname",name:"surname",type:"text",label:"Фамилия",modelValue:e.surname,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.surname=t}),errors:a.v$.surname.$errors,required:!0},null,8,["modelValue","errors"]),Object(r["j"])(u,{id:"middleName",name:"middleName",type:"text",label:"Отчество",modelValue:e.middleName,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.middleName=t})},null,8,["modelValue"]),Object(r["j"])(u,{id:"dateOfBirth",name:"dateOfBirth",type:"date",label:"Дата рождения",modelValue:e.dateOfBirth,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.dateOfBirth=t}),errors:a.v$.dateOfBirth.$errors,classLabelBox:"label__box-long",required:!0},null,8,["modelValue","errors"]),Object(r["j"])(u,{id:"phone",name:"phone",type:"tel",label:"Номер телефона",modelValue:e.phone,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.phone=t}),errors:a.v$.phone.$errors,classLabelBox:"label__box-longest",required:!0},{default:Object(r["I"])((function(){return[s]})),_:1},8,["modelValue","errors"]),Object(r["j"])(c,{modelValue:e.gender,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.gender=t})},null,8,["modelValue"]),Object(r["j"])(i,{options:a.groupOptions,modelValue:e.groupClient,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.groupClient=t}),"form-name":"Группа клиентов",required:!0,errors:a.v$.groupClient.$errors,name:"groupClient"},null,8,["options","modelValue","errors"]),Object(r["j"])(p,{options:a.doctorOptions,modelValue:e.doctor,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.doctor=t}),"form-name":"Лечащий врач",classes:"select-pl-10",name:"doctor"},null,8,["options","modelValue"]),Object(r["i"])("div",d,[b,Object(r["J"])(Object(r["i"])("input",{type:"checkbox",class:"input ml-10",name:"sms","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.sms=t}),onClick:t[9]||(t[9]=function(e){return a.checked=!a.checked})},null,512),[[r["F"],e.sms]])]),Object(r["i"])("button",{onClick:t[10]||(t[10]=function(){return a.checkValidation&&a.checkValidation.apply(a,arguments)}),class:"btn btn__step"},"Следующий шаг")],64)}var m=n("5530"),j={class:"form__control"},O=["type","id","name","value","required"],f=["for"],v={class:"small small-error"},y={key:0,class:"small small-required"};function h(e,t,n,a,l,o){var u;return Object(r["t"])(),Object(r["h"])("div",j,[Object(r["i"])("input",{type:n.type,id:n.id,class:Object(r["q"])(["input",null!==(u=n.errors)&&void 0!==u&&u.length?"error":""]),placeholder:" ",name:n.name,value:n.modelValue,onInput:t[0]||(t[0]=function(){return o.changeValue&&o.changeValue.apply(o,arguments)}),required:n.required},null,42,O),Object(r["A"])(e.$slots,"default"),Object(r["i"])("div",{class:Object(r["q"])(["label__box",n.classLabelBox])},null,2),Object(r["i"])("label",{for:n.id,class:"label"},Object(r["C"])(n.label),9,f),(Object(r["t"])(!0),Object(r["h"])(r["a"],null,Object(r["z"])(n.errors,(function(e){return Object(r["t"])(),Object(r["h"])("small",v,"* "+Object(r["C"])(e.$message),1)})),256)),n.required&&!n.errors.length?(Object(r["t"])(),Object(r["h"])("small",y,"* обязательное поле")):Object(r["g"])("",!0)])}var g={emits:["update:modelValue","update:blur"],props:{modelValue:{type:String,required:!1},classLabelBox:{type:String,required:!1,default:""},errors:{type:Array,required:!1},required:{type:Boolean,required:!1,default:!1},label:{type:String,required:!0},name:{type:String,required:!1},id:{type:String,required:!0},type:{type:String,required:!1,default:"text"}},methods:{changeValue:function(e){this.$emit("update:modelValue",e.target.value)}}},V=n("6b0d"),x=n.n(V);const _=x()(g,[["render",h]]);var q=_,k={class:"form__control"},S=Object(r["i"])("p",{class:"form__name"},"Пол",-1),B={class:"form__items"},$=["value"],C=Object(r["i"])("label",{for:"genderW",class:"label-relative"},"Женский",-1),P=["value"],I=Object(r["i"])("label",{for:"genderM",class:"label-relative"},"Мужской",-1);function U(e,t,n,a,l,o){return Object(r["t"])(),Object(r["h"])("div",k,[S,Object(r["i"])("div",B,[Object(r["i"])("input",{type:"radio",id:"genderW",name:"gender",class:"input",value:"woman",onInput:t[0]||(t[0]=function(){return o.changeValue&&o.changeValue.apply(o,arguments)})},null,40,$),C,Object(r["i"])("input",{type:"radio",id:"genderM",name:"gender",class:"input ml-10",value:"man",onInput:t[1]||(t[1]=function(){return o.changeValue&&o.changeValue.apply(o,arguments)})},null,40,P),I])])}var w={emits:["update:modelValue"],props:{modelValue:{type:String,required:!1}},methods:{changeValue:function(e){return this.$emit("update:modelValue",e.target.value)}}};const L=x()(w,[["render",U]]);var N=L,A={class:"form__control"},M={class:"form__name"},z=["size","name"],D=["value"],F={key:0,class:"small small-required"},G={class:"small small-error"};function T(e,t,n,a,l,o){return Object(r["t"])(),Object(r["h"])("div",A,[Object(r["i"])("p",M,Object(r["C"])(n.formName),1),Object(r["i"])("select",{multiple:"multiple",size:n.size,name:n.name,class:"select",onChange:t[0]||(t[0]=function(){return a.changeValue&&a.changeValue.apply(a,arguments)})},[(Object(r["t"])(!0),Object(r["h"])(r["a"],null,Object(r["z"])(n.options,(function(e){return Object(r["t"])(),Object(r["h"])("option",{value:n.options.value,class:"options"},Object(r["C"])(e.text),9,D)})),256))],40,z),n.required&&!n.errors.length?(Object(r["t"])(),Object(r["h"])("small",F,"* обязательное поле")):Object(r["g"])("",!0),(Object(r["t"])(!0),Object(r["h"])(r["a"],null,Object(r["z"])(n.errors,(function(e){return Object(r["t"])(),Object(r["h"])("small",G,"* "+Object(r["C"])(e.$message),1)})),256))])}n("a9e3"),n("7db0"),n("d3b7"),n("c740"),n("a434");var J={emits:["update:modelValue"],props:{formName:{type:String,required:!0},size:{type:Number,required:!1,default:3},options:{type:Array,required:!0},required:{type:Boolean,required:!1,default:!1},errors:{type:Array,required:!1,default:[]},name:{type:String,required:!0}},setup:function(e,t){var n=Object(r["y"])([]),a=function(e){if(n.value.find((function(t){return t===e.target.value}))){var r=n.value.findIndex((function(t){return t===e.target.value}));n.value.splice(r,1)}else n.value.push(e.target.value);t.emit("update:modelValue",n.value)};return{changeValue:a}}};const R=x()(J,[["render",T]]);var W=R,E={class:"form__control"},H={class:"form__name"},K={class:"select-border"},Q=["name"],X=["value"],Y={key:0,class:"small small-required"},Z={class:"small small-error"};function ee(e,t,n,a,l,o){return Object(r["t"])(),Object(r["h"])("div",E,[Object(r["i"])("p",H,Object(r["C"])(n.formName),1),Object(r["i"])("div",K,[Object(r["i"])("select",{name:n.name,class:Object(r["q"])(["select",n.classes]),onInput:t[0]||(t[0]=function(){return o.changeValue&&o.changeValue.apply(o,arguments)})},[(Object(r["t"])(!0),Object(r["h"])(r["a"],null,Object(r["z"])(n.options,(function(e){return Object(r["t"])(),Object(r["h"])("option",{value:n.options.value,class:"options"},Object(r["C"])(e.text),9,X)})),256))],42,Q)]),n.required&&!n.errors.length?(Object(r["t"])(),Object(r["h"])("small",Y,"* обязательное поле")):Object(r["g"])("",!0),(Object(r["t"])(!0),Object(r["h"])(r["a"],null,Object(r["z"])(n.errors,(function(e){return Object(r["t"])(),Object(r["h"])("small",Z,"* "+Object(r["C"])(e.$message),1)})),256))])}var te={emits:["update:modelValue"],props:{formName:{type:String,required:!0},errors:{type:Array,required:!1,default:[]},options:{type:Array,required:!0},required:{type:Boolean,required:!1,default:!1},name:{type:String,required:!0},classes:{type:String,required:!1,default:""}},methods:{changeValue:function(e){this.$emit("update:modelValue",e.target.value)}}};const ne=x()(te,[["render",ee]]);var re=ne,ae=n("e3e1"),le=n("25a0"),oe="поле не может быть пустым",ue={emits:["next"],setup:function(e,t){var n=Object(r["x"])({name:"",surname:"",middleName:"",dateOfBirth:"",gender:"",phone:"",groupClient:null,doctor:"",sms:!1}),a=function(e){n.groupClient=e},l=Object(r["y"])(!0),o=[{value:"vip",text:"Vip"},{value:"trouble",text:"Проблемные"},{value:"oms",text:"Омс"}],u=[{value:"zaharov",text:"Захаров"},{value:"chernyshev",text:"Чернышов"},{value:"ivanov",text:"Иванов"}],c={required:ae["a"].withMessage(oe,ae["d"])},i=Object(r["d"])((function(){return{name:c,surname:c,dateOfBirth:c,phone:{required:ae["a"].withMessage(oe,ae["d"]),minLength:ae["a"].withMessage("Поле должно быть длиннее 10 символов",Object(ae["c"])(10)),maxLength:ae["a"].withMessage("Поле должно быть короче 11 символов",Object(ae["b"])(11))},groupClient:c}})),s=Object(le["a"])(i,n),d=function(){if(s.value.$validate(),s.value.$error)return s.value.$touch();n.sms=l.value,t.emit("next",n)};return Object(m["a"])(Object(m["a"])({},Object(r["D"])(n)),{},{checkValidation:d,groupOptions:o,doctorOptions:u,checked:l,groupClientFc:a,v$:s})},components:{AppInput:q,InputRadio:N,MultiSelect:W,AppSelect:re}};const ce=x()(ue,[["render",p]]);var ie=ce,se={class:"form__buttons"};function de(e,t,n,a,l,o){var u=Object(r["B"])("app-input");return Object(r["t"])(),Object(r["h"])(r["a"],null,[Object(r["j"])(u,{id:"index",name:"index",type:"number",label:"Индекс",modelValue:e.index,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.index=t}),classLabelBox:"label__box-medium-60"},null,8,["modelValue"]),Object(r["j"])(u,{id:"country",name:"country",type:"text",label:"Страна",modelValue:e.country,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.country=t}),classLabelBox:"label__box-medium-60"},null,8,["modelValue"]),Object(r["j"])(u,{id:"region",name:"region",type:"text",label:"Регион",modelValue:e.region,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.region=t}),classLabelBox:"label__box-medium-60"},null,8,["modelValue"]),Object(r["j"])(u,{id:"city",name:"city",type:"text",label:"Город",modelValue:e.city,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.city=t}),errors:a.v$.city.$errors,classLabelBox:"label__box-medium-55",required:!0},null,8,["modelValue","errors"]),Object(r["j"])(u,{id:"street",name:"street",type:"text",label:"Улица",modelValue:e.street,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.street=t}),classLabelBox:"label__box-medium-55"},null,8,["modelValue"]),Object(r["j"])(u,{id:"house",name:"house",type:"text",label:"Дом",modelValue:e.house,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.house=t}),classLabelBox:"label__box-small"},null,8,["modelValue"]),Object(r["i"])("div",se,[Object(r["i"])("button",{class:"btn btn__step",onClick:t[6]||(t[6]=function(){return a.backStep&&a.backStep.apply(a,arguments)})},"Назад"),Object(r["i"])("button",{class:"btn btn__step",onClick:t[7]||(t[7]=function(){return a.nextStep&&a.nextStep.apply(a,arguments)})},"Следующий шаг")])],64)}var be={components:{AppInput:q},emits:["next","back"],setup:function(e,t){var n=Object(r["x"])({index:"",country:"",region:"",city:"",street:"",house:""}),a={required:ae["a"].withMessage(oe,ae["d"])},l=Object(r["d"])((function(){return{city:a}})),o=Object(le["a"])(l,n),u=function(){t.emit("back")},c=function(){if(o.value.$validate(),o.value.$error)return o.value.$touch();t.emit("next",n)};return Object(m["a"])(Object(m["a"])({backStep:u,nextStep:c},Object(r["D"])(n)),{},{v$:o})}};const pe=x()(be,[["render",de]]);var me=pe,je={class:"form__buttons"};function Oe(e,t,n,a,l,o){var u=Object(r["B"])("AppSelect"),c=Object(r["B"])("app-input");return Object(r["t"])(),Object(r["h"])(r["a"],null,[Object(r["j"])(u,{"form-name":"Тип документа",modelValue:e.typeDocument,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.typeDocument=t}),name:"typeDocument",options:a.documentOptions,classes:"select-pl-10",required:!0,errors:a.v$.typeDocument.$errors},null,8,["modelValue","options","errors"]),Object(r["j"])(c,{id:"seriesPassport",name:"seriesPassport",type:"number",label:"Серия",modelValue:e.seriesPassport,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.seriesPassport=t}),classLabelBox:"label__box-medium-55"},null,8,["modelValue"]),Object(r["j"])(c,{id:"numberPassport",name:"numberPassport",type:"number",label:"Номер",modelValue:e.numberPassport,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.numberPassport=t}),classLabelBox:"label__box-medium-65"},null,8,["modelValue"]),Object(r["j"])(c,{id:"givenPassport",name:"givenPassport",type:"text",label:"Кем выдан",modelValue:e.givenPassport,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.givenPassport=t}),classLabelBox:"label__box-medium-85"},null,8,["modelValue"]),Object(r["j"])(c,{id:"dateGiven",name:"dateGiven",type:"date",label:"Дата выдачи",modelValue:e.dateGiven,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.dateGiven=t}),errors:a.v$.dateGiven.$errors,classLabelBox:"label__box-medium-100",required:!0},null,8,["modelValue","errors"]),Object(r["i"])("div",je,[Object(r["i"])("button",{class:"btn btn__step",onClick:t[5]||(t[5]=function(){return a.backStep&&a.backStep.apply(a,arguments)})},"Назад"),Object(r["i"])("button",{class:"btn btn__step",onClick:t[6]||(t[6]=function(){return a.createTicket&&a.createTicket.apply(a,arguments)})},"Создать аккаунт")])],64)}var fe={emits:["back","create"],props:{info:{type:Array,required:!0}},setup:function(e,t){var n=Object(r["x"])({typeDocument:"passport",seriesPassport:"",numberPassport:"",givenPassport:"",dateGiven:""}),a=[{value:"passport",text:"Паспорт"},{value:"certificate",text:"Свидетельство о рождении"},{value:"license",text:"Водительское удостоверение"}],l=function(){t.emit("back")},o=function(){if(i.value.$validate(),i.value.$error)return i.value.$touch();var r={personInfo:e.info[0],addressInfo:e.info[1],passportInfo:n};console.log(r),t.emit("create",!0)},u={required:ae["a"].withMessage(oe,ae["d"])},c=Object(r["d"])((function(){return{typeDocument:u,dateGiven:u}})),i=Object(le["a"])(c,n);return Object(m["a"])(Object(m["a"])({},Object(r["D"])(n)),{},{v$:i,backStep:l,createTicket:o,documentOptions:a})},components:{AppSelect:re,AppInput:q}};const ve=x()(fe,[["render",Oe]]);var ye=ve,he={setup:function(){var e=Object(r["y"])(1),t=Object(r["y"])([]),n=Object(r["y"])(!1),a=Object(r["y"])(!0),l=function(){n.value=!0,e.value=1,Object(r["p"])((function(){return o()})),setTimeout((function(){n.value=!1}),5e3)},o=function(){a.value=!1,setTimeout((function(){a.value=!0}),1)},u=function(n){return t.value.push(n),e.value++},c=function(){return e.value--},i=Object(r["d"])((function(){switch(e.value){case 1:return"Персональная информация";case 2:return"Адрес";case 3:return"Паспортные данные"}}));return{step:e,subtitleName:i,create:l,nextStep:u,info:t,backStep:c,someState:a,alert:n}},components:{PassportInfoForm:ye,AddressInfoForm:me,PersonalInfoForm:ie}};n("76e3");const ge=x()(he,[["render",i],["__scopeId","data-v-2b2d9491"]]);var Ve=ge;n("fce9");Object(r["e"])(Ve).mount("#app")},"76e3":function(e,t,n){"use strict";n("faf4")},faf4:function(e,t,n){},fce9:function(e,t,n){}});
//# sourceMappingURL=app.d6c408b8.js.map